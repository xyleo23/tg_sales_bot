# –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ TG Sales Bot

## –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```powershell
cd c:\Users\Admin\.cursor\tg_sales_bot
py -m bot.main
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- `/start` ‚Äî –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `/admin` ‚Äî –ø–∞–Ω–µ–ª—å —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞ (–¥–ª—è –≤–∞—Å)

---

## –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–ª–∞—Ç—ã

1. –í –±–æ—Ç–µ: ¬´‚ö°Ô∏è –ü–æ–¥–ø–∏—Å–∫–∞¬ª
2. –ù–∞–∂–º–∏—Ç–µ ¬´‚ö°Ô∏è –û–ø–ª–∞—Ç–∏—Ç—å 299 ‚ÇΩ¬ª
3. –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ÆKassa
4. –¢–µ—Å—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞: `5555 5555 5555 5599`, —Å—Ä–æ–∫ –ª—é–±–æ–π, CVC –ª—é–±—ã–µ —Ü–∏—Ñ—Ä—ã

–ï—Å–ª–∏ —Å—Å—ã–ª–∫–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏. YOOKASSA_SHOP_ID –∏ YOOKASSA_SECRET_KEY –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ .env.

---

## –®–∞–≥ 3: Webhook –¥–ª—è –∞–≤—Ç–æ-–ø—Ä–æ–¥–ª–µ–Ω–∏—è (–ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã)

### 3.1 –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok
–°–∫–∞—á–∞–π—Ç–µ: https://ngrok.com/download

### 3.2 –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ (webhook –Ω–∞ –ø–æ—Ä—Ç—É 8080)
```powershell
py -m bot.main
```

### 3.3 –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```powershell
ngrok http 8080
```
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS-URL (–Ω–∞–ø—Ä–∏–º–µ—Ä `https://abc123.ngrok-free.app`).

### 3.4 –í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –ÆKassa
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí HTTP-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚Üí –î–æ–±–∞–≤–∏—Ç—å:
- URL: `https://–≤–∞—à-ngrok-–∞–¥—Ä–µ—Å/yookassa/webhook`
- –°–æ–±—ã—Ç–∏—è: `payment.succeeded`

### 3.5 –ü—Ä–æ–≤–µ—Ä–∫–∞
–û–ø–ª–∞—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–π –∫–∞—Ä—Ç–æ–π. –ü–æ–¥–ø–∏—Å–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–¥–ª–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –≤ –±–æ—Ç –ø—Ä–∏–¥—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ.

---

## –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞/—Ä–∞—Å—Å—ã–ª–∫–∏

### 4.1 –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
```powershell
py scripts/create_session.py
```

### 4.2 –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
- –í–≤–µ–¥–∏—Ç–µ –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä `main`)
- –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (+79991234567)
- –ö–æ–¥ –∏–∑ Telegram
- –ü–∞—Ä–æ–ª—å 2FA (–µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω)

### 4.3 –ó–∞–≥—Ä—É–∑–∫–∞ –≤ –±–æ—Ç–∞
1. –ë–æ—Ç ‚Üí ¬´üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç¬ª
2. –í–≤–µ–¥–∏—Ç–µ –∏–º—è (—Ç–æ –∂–µ, —á—Ç–æ –≤ —Å–∫—Ä–∏–ø—Ç–µ)
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª `.session` –∫–∞–∫ **–¥–æ–∫—É–º–µ–Ω—Ç** (–Ω–µ —Ñ–æ—Ç–æ)

–§–∞–π–ª –ª–µ–∂–∏—Ç –≤ `sessions/telegram/–∏–º—è.session`

---

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞ –∏ —Ä–∞—Å—Å—ã–ª–∫–∏

1. ¬´üë• –ü–∞—Ä—Å–µ—Ä –ø–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º¬ª ‚Äî —Å–æ–±–µ—Ä–∏—Ç–µ –∞—É–¥–∏—Ç–æ—Ä–∏—é –∏–∑ —á–∞—Ç–∞
2. ¬´üë• –ê—É–¥–∏—Ç–æ—Ä–∏—è¬ª ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –≤ CSV
3. ¬´‚úâÔ∏è –†–∞—Å—Å—ã–ª–∫–∞¬ª ‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –∞—É–¥–∏—Ç–æ—Ä–∏—é, –∞–∫–∫–∞—É–Ω—Ç—ã, –Ω–∞–ø–∏—à–∏—Ç–µ —Ç–µ–∫—Å—Ç

---

## –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –î–µ–π—Å—Ç–≤–∏–µ | –ö–æ–º–∞–Ω–¥–∞ |
|----------|---------|
| –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ | `py -m bot.main` |
| –°–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é | `py scripts/create_session.py` |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ | `py scripts/test_bot.py` |
